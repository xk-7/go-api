<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Management Interface</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            margin-top: 50px;
        }
        .btn-block {
            margin-bottom: 20px; /* 增加按钮之间的垂直间距 */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center">API Management Interface</h1>

        <div class="row">
            <div class="col-md-4">
                <button class="btn btn-primary btn-block" data-toggle="modal" data-target="#createUserModal">Create User</button>
            </div>
            <div class="col-md-4">
                <button class="btn btn-primary btn-block" data-toggle="modal" data-target="#copyFilesModal">Deploy Files</button>
            </div>
            <div class="col-md-4">
                <button class="btn btn-primary btn-block" data-toggle="modal" data-target="#updateDockerModal">Update Docker Container</button>
            </div>
            <div class="col-md-4">
                <button class="btn btn-primary btn-block" data-toggle="modal" data-target="#listContainersModal">List Docker Containers</button>
            </div>
            <div class="col-md-4">
                <button class="btn btn-primary btn-block" data-toggle="modal" data-target="#pauseContainerModal">Pause Docker Container</button>
            </div>
            <div class="col-md-4">
                <button class="btn btn-danger btn-block" data-toggle="modal" data-target="#deleteContainerModal">Delete Docker Container</button>
            </div>
            <div class="col-md-4">
                <button class="btn btn-info btn-block" data-toggle="modal" data-target="#getLogsModal">Get Container Logs</button>
            </div>
            <div class="col-md-4">
                <button class="btn btn-warning btn-block" data-toggle="modal" data-target="#statusModal">Server Status</button>
            </div>
            <div class="col-md-4">
                <button class="btn btn-info btn-block" data-toggle="modal" data-target="#firewallModal">Manage Firewall</button>
            </div>
            <div class="col-md-4">
                <button class="btn btn-secondary btn-block" data-toggle="modal" data-target="#systemInfoModal">System Info</button>
            </div>
            <div class="col-md-4">
                <button class="btn-success btn-block" data-toggle="modal" data-target="#diskUsageModal">diskUsageModal</button>
            </div>
            <div class="col-md-4">
                <button class="btn-success btn-block" data-toggle="modal" data-target="#loadModal">loadModal</button>
            </div>
            <div class="col-md-4">
                <button class="btn-success btn-block" data-toggle="modal" data-target="#memoryUsageModal">memoryUsageModal</button>
            </div>
            <div class="col-md-4">
                <button class="btn-success btn-block" data-toggle="modal" data-target="#logsModal">logsModal</button>
            </div>            
        </div>
    </div>

<!-- Create User Modal -->
<div class="modal fade" id="createUserModal" tabindex="-1" role="dialog" aria-labelledby="createUserModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createUserModalLabel">Create Linux User</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="createUserForm">
                    <div class="form-group">
                        <label for="createUserUsername">Username</label>
                        <input type="text" class="form-control" id="createUserUsername" required>
                    </div>
                    <div class="form-group">
                        <label for="createUserPassword">Password</label>
                        <input type="password" class="form-control" id="createUserPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Create User</button>
                </form>
                <div id="createUserResult" class="mt-3"></div>
            </div>
        </div>
    </div>
</div>

    <!-- Deploy Files Modal -->
<div class="modal fade" id="copyFilesModal" tabindex="-1" role="dialog" aria-labelledby="copyFilesModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="copyFilesModalLabel">Deploy Files to Server</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="copyForm">
                        <div class="form-group">
                            <label for="serverIps">Server IPs (comma separated)</label>
                            <input type="text" class="form-control" id="serverIps" required>
                        </div>
                        <div class="form-group">
                            <label for="buildDir">Build Directory</label>
                            <input type="text" class="form-control" id="buildDir">
                        </div>
                        <div class="form-group">
                            <label for="buildCommand">Build Command</label>
                            <input type="text" class="form-control" id="buildCommand">
                        </div>
                        <div class="form-group">
                            <label for="buildOutputDir">Build Output Directory</label>
                            <input type="text" class="form-control" id="buildOutputDir">
                        </div>
                        <div class="form-group">
                            <label for="destinationPath">Destination Path</label>
                            <input type="text" class="form-control" id="destinationPath">
                        </div>
                        <button type="submit" class="btn btn-primary">Copy Files</button>
                    </form>
                    <div id="copyResult" class="mt-3"></div>
                </div>
            </div>
        </div>
</div>

    <!-- Update Docker Container Modal -->
<div class="modal fade" id="updateDockerModal" tabindex="-1" role="dialog" aria-labelledby="updateDockerModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="updateDockerModalLabel">Update Docker Container</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="updateDockerForm">
                        <div class="form-group">
                            <label for="dockerVersion">Version</label>
                            <input type="text" class="form-control" id="dockerVersion" required>
                        </div>
                        <div class="form-group">
                            <label for="containerName">Container Name</label>
                            <input type="text" class="form-control" id="containerName" required>
                        </div>
                        <div class="form-group">
                            <label for="dockerServerIps">Server IPs (comma separated)</label>
                            <input type="text" class="form-control" id="dockerServerIps" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Update Docker</button>
                    </form>
                    <div id="updateDockerResult" class="mt-3"></div>
                </div>
            </div>
        </div>
</div>

    <!-- List Docker Containers Modal -->
<div class="modal fade" id="listContainersModal" tabindex="-1" role="dialog" aria-labelledby="listContainersModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="listContainersModalLabel">List Docker Containers</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <button id="listContainersButton" class="btn btn-primary btn-block">List Containers</button>
                    <div id="listContainersResult" class="mt-3"></div>
                </div>
            </div>
        </div>
</div>

    <!-- Pause Docker Container Modal -->
<div class="modal fade" id="pauseContainerModal" tabindex="-1" role="dialog" aria-labelledby="pauseContainerModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="pauseContainerModalLabel">Pause Docker Container</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="pauseContainerForm">
                        <div class="form-group">
                            <label for="pauseContainerName">Container Name</label>
                            <input type="text" class="form-control" id="pauseContainerName" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Pause Container</button>
                    </form>
                    <div id="pauseContainerResult" class="mt-3"></div>
                </div>
            </div>
        </div>
</div>

    <!-- Delete Docker Container Modal -->
 <div class="modal fade" id="deleteContainerModal" tabindex="-1" role="dialog" aria-labelledby="deleteContainerModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteContainerModalLabel">Delete Docker Container</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="deleteContainerForm">
                        <div class="form-group">
                            <label for="deleteContainerName">Container Name</label>
                            <input type="text" class="form-control" id="deleteContainerName" required>
                        </div>
                        <button type="submit" class="btn btn-danger">Delete Container</button>
                    </form>
                    <div id="deleteContainerResult" class="mt-3"></div>
                </div>
            </div>
        </div>
</div>

<!-- Get Logs Modal -->
<div class="modal fade" id="getLogsModal" tabindex="-1" role="dialog" aria-labelledby="getLogsModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="getLogsModalLabel">Get Container Logs</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="getLogsForm">
                    <div class="form-group">
                        <label for="logContainerName">Container Name</label>
                        <input type="text" class="form-control" id="logContainerName" required>
                    </div>
                    <div class="form-group">
                        <label for="logServerIp">Server IP (optional)</label>
                        <input type="text" class="form-control" id="logServerIp">
                    </div>
                    <button type="submit" id="getLogsButton" class="btn btn-primary">Get Logs</button>
                </form>
                <div id="logResult" class="mt-3"></div>
            </div>
        </div>
    </div>
</div>
<!-- Feedback Modal -->
<div class="modal fade" id="feedbackModal" tabindex="-1" role="dialog" aria-labelledby="feedbackModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="feedbackModalLabel">反馈</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="feedbackMessage">
                <!-- 反馈消息将在这里插入 -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="confirmFeedbackButton">确认</button>
            </div>
        </div>
    </div>
</div>

<!-- Server Status Modal -->
<div class="modal fade" id="statusModal" tabindex="-1" role="dialog" aria-labelledby="statusModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="statusModalLabel">Server Status</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <button id="statusButton" class="btn btn-primary btn-block">Get Status</button>
                <div id="statusResult" class="mt-3"></div>
            </div>
        </div>
    </div>
</div>

<!-- Manage Firewall Modal -->
<div class="modal fade" id="firewallModal" tabindex="-1" role="dialog" aria-labelledby="firewallModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="firewallModalLabel">Manage Firewall</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="firewallForm">
                    <div class="form-group">
                        <label for="firewallAction">Action</label>
                        <select class="form-control" id="firewallAction" required>
                            <option value="add">Allow</option>
                            <option value="del">Deny</option>
                            <option value="list">List</option>
                        </select>
                    </div>
                    <div class="form-group" id="firewallRuleGroup">
                        <label for="firewallRule">Rule</label>
                        <input type="text" class="form-control" id="firewallRule">
                    </div>
                    <button type="submit" class="btn btn-primary">Apply</button>
                </form>
                <div id="firewallResult" class="mt-3"></div>
            </div>
        </div>
    </div>
</div>

<!-- System Info Modal -->
<div class="modal fade" id="systemInfoModal" tabindex="-1" role="dialog" aria-labelledby="systemInfoModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="systemInfoModalLabel">System Information</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <button id="systemInfoButton" class="btn btn-secondary btn-block">Get System Info</button>
                <div id="systemInfoResult" class="mt-3"></div>
            </div>
        </div>
    </div>
</div>

<!-- Disk Usage Modal -->
<div class="modal fade" id="diskUsageModal" tabindex="-1" role="dialog" aria-labelledby="diskUsageModalLabel" aria-hidden="true">
    <div class="modal-dialog custom-modal-width" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="diskUsageModalLabel">Disk Usage</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <button id="diskUsageButton" class="btn btn-primary btn-block">Get Disk Usage</button>
                <div id="diskUsageResult" class="mt-3"></div>
            </div>
        </div>
    </div>
</div>

<style>
    /* 自定义模态框宽度 */
    .custom-modal-width {
        max-width: 80%; /* 根据需要调整百分比 */
    }
</style>

<!-- Load Modal -->
<div class="modal fade" id="loadModal" tabindex="-1" role="dialog" aria-labelledby="loadModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="loadModalLabel">System Load</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <button id="loadButton" class="btn btn-primary btn-block">Get System Load</button>
                <div id="loadResult" class="mt-3"></div>
            </div>
        </div>
    </div>
</div>

<!-- Memory Usage Modal -->
<div class="modal fade" id="memoryUsageModal" tabindex="-1" role="dialog" aria-labelledby="memoryUsageModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="memoryUsageModalLabel">Memory Usage</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <button id="memoryUsageButton" class="btn btn-primary btn-block">Get Memory Usage</button>
                <div id="memoryUsageResult" class="mt-3"></div>
            </div>
        </div>
    </div>
</div>

<!-- Logs Modal -->
<div class="modal fade" id="logsModal" tabindex="-1" role="dialog" aria-labelledby="logsModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="logsModalLabel">System Logs</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <button id="logsButton" class="btn btn-primary btn-block">Get System Logs</button>
                <div id="logsResult" class="mt-3"></div>
            </div>
        </div>
    </div>
</div>


 <!-- Result Modal -->
 <div class="modal fade" id="resultModal" tabindex="-1" role="dialog" aria-labelledby="resultModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="resultModalLabel">Result</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" id="resultModalBody">
                <!-- Result message will be displayed here -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

    <!-- jQuery and Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <script>
// Create User
$('#createUserForm').on('submit', function(event) {
    event.preventDefault();
    const username = $('#createUserUsername').val();
    const password = $('#createUserPassword').val();
    axios.post(`/create-user/${username}/${password}`)
        .then(response => {
            $('#createUserResult').text(response.data.message);
        })
        .catch(error => {
            $('#createUserResult').text(error.response.data.error);
        });
});

// Deploy Files
$('#copyForm').on('submit', function(event) {
    event.preventDefault();
    const serverIps = $('#serverIps').val().split(',').map(ip => ip.trim());
    const buildDir = $('#buildDir').val();
    const buildCommand = $('#buildCommand').val();
    const buildOutputDir = $('#buildOutputDir').val();
    const destinationPath = $('#destinationPath').val();
    axios.post('/copy', { serverIps, buildDir, buildCommand, buildOutputDir, destinationPath })
        .then(response => {
            $('#copyResult').text(response.data.message);
        })
        .catch(error => {
            $('#copyResult').text(error.response.data.error);
        });
});

// Update Docker Container
$('#updateDockerForm').on('submit', function(event) {
    event.preventDefault();
    const version = $('#dockerVersion').val();
    const containerName = $('#containerName').val();
    const serverIps = $('#dockerServerIps').val().split(',').map(ip => ip.trim());
    axios.post(`/update-docker/${version}/${containerName}`, { serverIps })
        .then(response => {
            $('#updateDockerResult').text(response.data.message);
        })
        .catch(error => {
            $('#updateDockerResult').text(error.response.data.error);
        });
});

// List Docker Containers
$('#listContainersButton').on('click', function() {
    axios.get('/list-containers')
        .then(response => {
            $('#listContainersResult').html('<pre>' + JSON.stringify(response.data, null, 2) + '</pre>');
        })
        .catch(error => {
            $('#listContainersResult').text(error.response.data.error);
        });
});

 // 暂停 Docker 容器
 $('#pauseContainerForm').on('submit', function(event) {
    event.preventDefault();
    const containerName = $('#pauseContainerName').val();
    axios.post(`/pause-container/${containerName}`)
        .then(response => {
            if (response.status === 200) {
                // 返回200时，弹出成功提示框
                $('#feedbackMessage').text('容器已成功暂停');
                $('#feedbackModal').modal('show');
                // 不重置表单在这里执行
            }
        })
        .catch(error => {
            if (error.response && error.response.status === 404) {
                // 返回404时，弹出“容器不存在”提示框
                $('#feedbackMessage').text('容器不存在');
            } else {
                // 其他错误处理
                $('#feedbackMessage').text(error.response.data.error || '发生错误');
            }
            $('#feedbackModal').modal('show');
            // 隐藏表单
            $('#pauseContainerForm').hide();
        });
});

// 绑定确认按钮点击事件
$('#confirmFeedbackButton').on('click', function() {
    // 关闭模态框
    $('#feedbackModal').modal('hide');
    // 显示表单
    $('#pauseContainerForm').show();
    // 重置表单
    $('#pauseContainerForm')[0].reset();
});


// Delete Docker Container
$('#deleteContainerForm').on('submit', function(event) {
    event.preventDefault();
    const containerName = $('#deleteContainerName').val();
    axios.delete(`/delete-container/${containerName}`)
        .then(response => {
            $('#deleteContainerResult').text(response.data.message);
        })
        .catch(error => {
            $('#deleteContainerResult').text(error.response.data.error);
        });
});

// Get Logs
$('#getLogsForm').on('submit', function(event) {
    event.preventDefault();
    const containerName = $('#logContainerName').val();
    const serverIp = $('#logServerIp').val() || ''; // 如果为空，设置为空字符串
    axios.get(`/logs/${containerName}`, { params: { serverIp } })
        .then(response => {
            const logFileURL = response.data.logFileURL;
            $('#logResult').html(`
                <p>Log file has been generated. You can download it from the following link:</p>
                <a href="${logFileURL}" target="_blank">${logFileURL}</a>
            `);
        })
        .catch(error => {
            if (error.response.status === 404) {
                $('#logResult').html(`<div class="alert alert-danger">Container not found</div>`);
            } else {
                $('#logResult').text(error.response.data.error);
            }
        });
});

//status
$(document).ready(function() {
    $('#statusButton').on('click', function() {
        showLoading();
        axios.get('/status')
            .then(response => {
                $('#statusResult').html('<pre>' + JSON.stringify(response.data, null, 2) + '</pre>');
                $('#statusModal').modal('show');
            })
            .catch(error => {
                $('#statusResult').text(error.response.data.error || '发生了意外错误。');
                $('#statusModal').modal('show');
            })
            .finally(() => {
                hideLoading();
            });
    });
});

// Reboot Server
$('#rebootButton').on('click', function() {
    showLoading();
    axios.post('/reboot')
        .then(response => {
            showResultModal(response.data.message);
        })
        .catch(error => {
            showResultModal(error.response.data.error || '发生了意外错误。');
        })
        .finally(() => {
            hideLoading();
        });
});

function showLoading() {
            // Add loading indication logic here if needed
        }
function hideLoading() {
            // Add loading indication hide logic here if needed
        }

// Manage Firewall
$('#firewallForm').on('submit', function(event) {
            event.preventDefault();
            showLoading();
            const action = $('#firewallAction').val();
            const rule = $('#firewallRule').val();
            axios.post('/firewall', null, {
                params: {
                    action: action,
                    rule: rule
                }
            })
            .then(response => {
                $('#resultModalBody').text(response.data.message || '操作成功。');
                $('#resultModal').modal('show');
            })
            .catch(error => {
                $('#resultModalBody').text(error.response.data.error || '发生了意外错误。');
                $('#resultModal').modal('show');
            })
            .finally(() => {
                hideLoading();
            });
        });

// System Info
$('#systemInfoButton').on('click', function() {
    showLoading();
    axios.get('/system-info')
        .then(response => {
            $('#systemInfoResult').html('<pre>' + JSON.stringify(response.data, null, 2) + '</pre>');
        })
        .catch(error => {
            $('#systemInfoResult').text(error.response.data.error || '发生了意外错误。');
        })
        .finally(() => {
            hideLoading();
        });
});

// Disk Usage
$(document).ready(function() {
    // Disk Usage
    $('#diskUsageButton').on('click', function() {
        showLoading();
        axios.get('/disk-usage')
            .then(response => {
                $('#diskUsageResult').html('<pre>' + response.data + '</pre>');
                $('#diskUsageModal').modal('show');
            })
            .catch(error => {
                $('#diskUsageResult').text(error.response.data.error || '发生了意外错误。');
                $('#diskUsageModal').modal('show');
            })
            .finally(() => {
                hideLoading();
            });
    });

    // System Load
    $('#loadButton').on('click', function() {
        showLoading();
        axios.get('/load')
            .then(response => {
                $('#loadResult').html('<pre>' + response.data + '</pre>');
                $('#loadModal').modal('show');
            })
            .catch(error => {
                $('#loadResult').text(error.response.data.error || '发生了意外错误。');
                $('#loadModal').modal('show');
            })
            .finally(() => {
                hideLoading();
            });
    });

    // Memory Usage
    $('#memoryUsageButton').on('click', function() {
        showLoading();
        axios.get('/memory-usage')
            .then(response => {
                $('#memoryUsageResult').html('<pre>' + response.data + '</pre>');
                $('#memoryUsageModal').modal('show');
            })
            .catch(error => {
                $('#memoryUsageResult').text(error.response.data.error || '发生了意外错误。');
                $('#memoryUsageModal').modal('show');
            })
            .finally(() => {
                hideLoading();
            });
    });

    // System Logs
    $('#logsButton').on('click', function() {
        showLoading();
        axios.get('/logs')
            .then(response => {
                $('#logsResult').html('<pre>' + response.data + '</pre>');
                $('#logsModal').modal('show');
            })
            .catch(error => {
                $('#logsResult').text(error.response.data.error || '发生了意外错误。');
                $('#logsModal').modal('show');
            })
            .finally(() => {
                hideLoading();
            });
    });
});

function showLoading() {
    // Implement your loading spinner logic here
}

function hideLoading() {
    // Implement your hide loading spinner logic here
}



</script>
</body>
</html>
